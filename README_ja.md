# デバイスエイリアスマネージャー

[English](README.md) | [中文](README_zh.md)

デバイスエイリアスマネージャーは、USBデバイスのエイリアスを管理するためのBashスクリプトツールです。新しいデバイスの検出、記録済みデバイスの表示、デバイスの詳細情報の表示、デバイス記録の削除、デバイスエイリアスの変更などの機能を提供します。

## 機能

- 新しいUSBデバイスの接続を検出
- 新しいデバイスにエイリアスを割り当て
- 記録済みデバイスのリストを表示
- デバイスの詳細情報を表示
- デバイス記録を削除
- デバイスエイリアスを変更
- 多言語サポート（英語、中国語、日本語）
- 自動言語検出
- 設定可能なオプション
- ログ機能
- udevルールのバックアップ管理

## インストール

1. リポジトリをクローンします：
   ```
   git clone https://github.com/XKHoshizora/dev-mgmt-tools.git
   ```
2. プロジェクトディレクトリに移動します：
   ```
   cd dev-mgmt-tools
   ```
3. スクリプトに実行権限を付与します：
   ```
   chmod +x dev_alias_manager.sh
   ```

## 使用方法

スクリプトを実行します：

```
sudo ./dev_alias_manager.sh
```

注意：一部の操作（udevルールの変更など）にはroot権限が必要なため、sudoを使用してスクリプトを実行することをお勧めします。

画面の指示に従って操作を選択してください：

1. 新しいデバイスを検出
2. 記録済みデバイスを表示
3. デバイスの詳細情報を表示
4. デバイス記録を削除
5. デバイスエイリアスを変更
6. 終了

## 設定

設定ファイルは `config/dev_alias_manager.conf` にあります。次の設定をカスタマイズできます：

- `MAX_RETRIES`：シンボリックリンク作成の最大再試行回数
- `TIMEOUT`：デバイス操作のタイムアウト
- `DEVICE_RECORD_FILE`：udevルールファイルの場所
- `LOG_LEVEL`：ログレベル（DEBUG, INFO, WARNING, ERROR）
- `AUTO_NAMING`：自動デバイス命名の有効/無効
- `AUTO_NAME_PREFIX`：自動生成名のプレフィックス
- `LANGUAGE`：特定の言語を強制（en, zh, ja）
- `MAX_BACKUPS`：保持する最大バックアップファイル数

デフォルトの設定ファイルテンプレート `dev_alias_manager.conf.default` も提供されています。

## ログ

ログファイルは `logs/dev_alias_manager.log` に保存されます。

## 言語サポート

スクリプトは自動的にシステムの言語を検出し、英語、中国語、または日本語でメッセージを表示します。システムの言語がこれらのいずれでもない場合、デフォルトで英語が使用されます。設定ファイルで言語を手動で設定することもできます。

## バックアップ

スクリプトは変更を行う前にudevルールファイルのバックアップを作成します。バックアップは `backups` ディレクトリに保存されます。保持するバックアップの数は設定可能です。

## 注意事項

- このスクリプトはシステムのudevルールを変更します。注意して使用してください。
- スクリプトは操作を行う前にudevルールファイルのバックアップを作成します。
- 問題が発生した場合は、ログファイルで詳細情報を確認してください。
- スクリプトはロックファイルを使用して、複数のインスタンスが同時に実行されることを防ぎます。

## 貢献

このプロジェクトの改善に役立つIssueやPull Requestsを歓迎します。

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています - 詳細は[LICENSE](LICENSE)ファイルを参照してください。